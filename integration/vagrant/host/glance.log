2011-04-26 16:16:26     INFO [sqlalchemy.engine.base.Engine.0x...da10] SELECT DATABASE()
2011-04-26 16:16:26     INFO [sqlalchemy.engine.base.Engine.0x...da10] ()
2011-04-26 16:16:26     INFO [sqlalchemy.engine.base.Engine.0x...da10] SHOW VARIABLES LIKE 'character_set%%'
2011-04-26 16:16:26     INFO [sqlalchemy.engine.base.Engine.0x...da10] ()
2011-04-26 16:16:26     INFO [sqlalchemy.engine.base.Engine.0x...da10] SHOW VARIABLES LIKE 'lower_case_table_names'
2011-04-26 16:16:26     INFO [sqlalchemy.engine.base.Engine.0x...da10] ()
2011-04-26 16:16:26     INFO [sqlalchemy.engine.base.Engine.0x...da10] SHOW COLLATION
2011-04-26 16:16:26     INFO [sqlalchemy.engine.base.Engine.0x...da10] ()
2011-04-26 16:16:26     INFO [sqlalchemy.engine.base.Engine.0x...da10] SHOW VARIABLES LIKE 'sql_mode'
2011-04-26 16:16:26     INFO [sqlalchemy.engine.base.Engine.0x...da10] ()
2011-04-26 16:16:26     INFO [sqlalchemy.engine.base.Engine.0x...da10] DESCRIBE `images`
2011-04-26 16:16:26     INFO [sqlalchemy.engine.base.Engine.0x...da10] ()
2011-04-26 16:16:26     INFO [sqlalchemy.engine.base.Engine.0x...da10] ROLLBACK
2011-04-26 16:16:26     INFO [sqlalchemy.engine.base.Engine.0x...da10] DESCRIBE `image_properties`
2011-04-26 16:16:26     INFO [sqlalchemy.engine.base.Engine.0x...da10] ()
2011-04-26 16:16:26     INFO [sqlalchemy.engine.base.Engine.0x...da10] ROLLBACK
2011-04-26 16:16:26     INFO [sqlalchemy.engine.base.Engine.0x...da10] 
CREATE TABLE images (
	created_at DATETIME NOT NULL, 
	updated_at DATETIME, 
	deleted_at DATETIME, 
	deleted BOOL NOT NULL, 
	id INTEGER NOT NULL AUTO_INCREMENT, 
	name VARCHAR(255), 
	disk_format VARCHAR(20), 
	container_format VARCHAR(20), 
	size BIGINT, 
	status VARCHAR(30) NOT NULL, 
	is_public BOOL NOT NULL, 
	location TEXT, 
	checksum VARCHAR(32), 
	PRIMARY KEY (id), 
	CHECK (deleted IN (0, 1)), 
	CHECK (is_public IN (0, 1))
)ENGINE=InnoDB


2011-04-26 16:16:26     INFO [sqlalchemy.engine.base.Engine.0x...da10] ()
2011-04-26 16:16:26     INFO [sqlalchemy.engine.base.Engine.0x...da10] COMMIT
2011-04-26 16:16:26     INFO [sqlalchemy.engine.base.Engine.0x...da10] 
CREATE TABLE image_properties (
	created_at DATETIME NOT NULL, 
	updated_at DATETIME, 
	deleted_at DATETIME, 
	deleted BOOL NOT NULL, 
	id INTEGER NOT NULL AUTO_INCREMENT, 
	image_id INTEGER NOT NULL, 
	`key` VARCHAR(255) NOT NULL, 
	value TEXT, 
	PRIMARY KEY (id), 
	CHECK (deleted IN (0, 1)), 
	FOREIGN KEY(image_id) REFERENCES images (id), 
	UNIQUE (image_id, `key`)
)


2011-04-26 16:16:26     INFO [sqlalchemy.engine.base.Engine.0x...da10] ()
2011-04-26 16:16:27     INFO [sqlalchemy.engine.base.Engine.0x...da10] COMMIT
2011-04-26 16:16:27     INFO [sqlalchemy.engine.base.Engine.0x...da10] CREATE INDEX ix_image_properties_key ON image_properties (`key`)
2011-04-26 16:16:27     INFO [sqlalchemy.engine.base.Engine.0x...da10] ()
2011-04-26 16:16:27     INFO [sqlalchemy.engine.base.Engine.0x...da10] COMMIT
2011-04-26 16:16:29     INFO [sqlalchemy.engine.base.Engine.0x...da10] BEGIN
2011-04-26 16:16:29     INFO [sqlalchemy.engine.base.Engine.0x...da10] INSERT INTO images (created_at, updated_at, deleted_at, deleted, name, disk_format, container_format, size, status, is_public, location, checksum) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2011-04-26 16:16:29     INFO [sqlalchemy.engine.base.Engine.0x...da10] (datetime.datetime(2011, 4, 26, 23, 16, 29, 762478), None, None, False, u'ubuntu-10.04-x86_64-openvz', None, None, 0, u'queued', True, None, None)
2011-04-26 16:16:29     INFO [sqlalchemy.engine.base.Engine.0x...da10] SELECT image_properties.created_at AS image_properties_created_at, image_properties.updated_at AS image_properties_updated_at, image_properties.deleted_at AS image_properties_deleted_at, image_properties.deleted AS image_properties_deleted, image_properties.id AS image_properties_id, image_properties.image_id AS image_properties_image_id, image_properties.`key` AS image_properties_key, image_properties.value AS image_properties_value 
FROM image_properties 
WHERE %s = image_properties.image_id
2011-04-26 16:16:29     INFO [sqlalchemy.engine.base.Engine.0x...da10] (1L,)
2011-04-26 16:16:29     INFO [sqlalchemy.engine.base.Engine.0x...da10] INSERT INTO image_properties (created_at, updated_at, deleted_at, deleted, image_id, `key`, value) VALUES (%s, %s, %s, %s, %s, %s, %s)
2011-04-26 16:16:29     INFO [sqlalchemy.engine.base.Engine.0x...da10] (datetime.datetime(2011, 4, 26, 23, 16, 29, 768874), None, None, False, 1L, u'type', u'raw')
2011-04-26 16:16:29     INFO [sqlalchemy.engine.base.Engine.0x...da10] COMMIT
2011-04-26 16:16:29     INFO [sqlalchemy.engine.base.Engine.0x...da10] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-26 16:16:29     INFO [sqlalchemy.engine.base.Engine.0x...da10] (False, 1L)
2011-04-26 16:16:29     INFO [sqlalchemy.engine.base.Engine.0x...da10] BEGIN
2011-04-26 16:16:29     INFO [sqlalchemy.engine.base.Engine.0x...da10] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-26 16:16:29     INFO [sqlalchemy.engine.base.Engine.0x...da10] (False, '1')
2011-04-26 16:16:29     INFO [sqlalchemy.engine.base.Engine.0x...da10] UPDATE images SET updated_at=%s, status=%s WHERE images.id = %s
2011-04-26 16:16:29     INFO [sqlalchemy.engine.base.Engine.0x...da10] (datetime.datetime(2011, 4, 26, 23, 16, 29, 848866), u'saving', 1L)
2011-04-26 16:16:29     INFO [sqlalchemy.engine.base.Engine.0x...da10] COMMIT
2011-04-26 16:16:29     INFO [sqlalchemy.engine.base.Engine.0x...da10] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-26 16:16:29     INFO [sqlalchemy.engine.base.Engine.0x...da10] (False, 1L)
2011-04-26 16:16:34     INFO [sqlalchemy.engine.base.Engine.0x...da10] BEGIN
2011-04-26 16:16:34     INFO [sqlalchemy.engine.base.Engine.0x...da10] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-26 16:16:34     INFO [sqlalchemy.engine.base.Engine.0x...da10] (False, '1')
2011-04-26 16:16:34     INFO [sqlalchemy.engine.base.Engine.0x...da10] UPDATE images SET updated_at=%s, size=%s, checksum=%s WHERE images.id = %s
2011-04-26 16:16:34     INFO [sqlalchemy.engine.base.Engine.0x...da10] (datetime.datetime(2011, 4, 26, 23, 16, 34, 413331), 136845017, u'b2bf8bd60bcdfe8b24a4db1af8c08c44', 1L)
2011-04-26 16:16:34     INFO [sqlalchemy.engine.base.Engine.0x...da10] COMMIT
2011-04-26 16:16:37     INFO [sqlalchemy.engine.base.Engine.0x...da10] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-26 16:16:37     INFO [sqlalchemy.engine.base.Engine.0x...da10] (False, 1L)
2011-04-26 16:16:37     INFO [sqlalchemy.engine.base.Engine.0x...da10] BEGIN
2011-04-26 16:16:37     INFO [sqlalchemy.engine.base.Engine.0x...da10] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-26 16:16:37     INFO [sqlalchemy.engine.base.Engine.0x...da10] (False, '1')
2011-04-26 16:16:37     INFO [sqlalchemy.engine.base.Engine.0x...da10] UPDATE images SET updated_at=%s, status=%s, location=%s WHERE images.id = %s
2011-04-26 16:16:37     INFO [sqlalchemy.engine.base.Engine.0x...da10] (datetime.datetime(2011, 4, 26, 23, 16, 37, 208911), u'active', u'file:///home/vagrant/glance_repo/1', 1L)
2011-04-26 16:16:37     INFO [sqlalchemy.engine.base.Engine.0x...da10] COMMIT
2011-04-26 16:16:37     INFO [sqlalchemy.engine.base.Engine.0x...da10] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-26 16:16:37     INFO [sqlalchemy.engine.base.Engine.0x...da10] (False, 1L)
2011-04-26 16:17:04     INFO [sqlalchemy.engine.base.Engine.0x...39d0] SELECT DATABASE()
2011-04-26 16:17:04     INFO [sqlalchemy.engine.base.Engine.0x...39d0] ()
2011-04-26 16:17:04     INFO [sqlalchemy.engine.base.Engine.0x...39d0] SHOW VARIABLES LIKE 'character_set%%'
2011-04-26 16:17:04     INFO [sqlalchemy.engine.base.Engine.0x...39d0] ()
2011-04-26 16:17:04     INFO [sqlalchemy.engine.base.Engine.0x...39d0] SHOW VARIABLES LIKE 'lower_case_table_names'
2011-04-26 16:17:04     INFO [sqlalchemy.engine.base.Engine.0x...39d0] ()
2011-04-26 16:17:04     INFO [sqlalchemy.engine.base.Engine.0x...39d0] SHOW COLLATION
2011-04-26 16:17:04     INFO [sqlalchemy.engine.base.Engine.0x...39d0] ()
2011-04-26 16:17:04     INFO [sqlalchemy.engine.base.Engine.0x...39d0] SHOW VARIABLES LIKE 'sql_mode'
2011-04-26 16:17:04     INFO [sqlalchemy.engine.base.Engine.0x...39d0] ()
2011-04-26 16:17:04     INFO [sqlalchemy.engine.base.Engine.0x...39d0] DESCRIBE `images`
2011-04-26 16:17:04     INFO [sqlalchemy.engine.base.Engine.0x...39d0] ()
2011-04-26 16:17:04     INFO [sqlalchemy.engine.base.Engine.0x...39d0] DESCRIBE `image_properties`
2011-04-26 16:17:04     INFO [sqlalchemy.engine.base.Engine.0x...39d0] ()
2011-04-26 16:17:27     INFO [sqlalchemy.engine.base.Engine.0x...39d0] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.is_public = %s
2011-04-26 16:17:27     INFO [sqlalchemy.engine.base.Engine.0x...39d0] (False, True)
2011-04-26 16:17:29     INFO [sqlalchemy.engine.base.Engine.0x...39d0] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.is_public = %s
2011-04-26 16:17:29     INFO [sqlalchemy.engine.base.Engine.0x...39d0] (False, True)
2011-04-26 16:17:29     INFO [sqlalchemy.engine.base.Engine.0x...39d0] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-26 16:17:29     INFO [sqlalchemy.engine.base.Engine.0x...39d0] (False, '1')
2011-04-26 16:17:29     INFO [sqlalchemy.engine.base.Engine.0x...39d0] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-26 16:17:29     INFO [sqlalchemy.engine.base.Engine.0x...39d0] (False, '1')
2011-04-26 16:17:31     INFO [sqlalchemy.engine.base.Engine.0x...39d0] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-26 16:17:31     INFO [sqlalchemy.engine.base.Engine.0x...39d0] (False, '1')
2011-04-26 16:46:02     INFO [sqlalchemy.engine.base.Engine.0x...7a10] SELECT DATABASE()
2011-04-26 16:46:02     INFO [sqlalchemy.engine.base.Engine.0x...7a10] ()
2011-04-26 16:46:02     INFO [sqlalchemy.engine.base.Engine.0x...7a10] SHOW VARIABLES LIKE 'character_set%%'
2011-04-26 16:46:02     INFO [sqlalchemy.engine.base.Engine.0x...7a10] ()
2011-04-26 16:46:02     INFO [sqlalchemy.engine.base.Engine.0x...7a10] SHOW VARIABLES LIKE 'lower_case_table_names'
2011-04-26 16:46:02     INFO [sqlalchemy.engine.base.Engine.0x...7a10] ()
2011-04-26 16:46:02     INFO [sqlalchemy.engine.base.Engine.0x...7a10] SHOW COLLATION
2011-04-26 16:46:02     INFO [sqlalchemy.engine.base.Engine.0x...7a10] ()
2011-04-26 16:46:02     INFO [sqlalchemy.engine.base.Engine.0x...7a10] SHOW VARIABLES LIKE 'sql_mode'
2011-04-26 16:46:02     INFO [sqlalchemy.engine.base.Engine.0x...7a10] ()
2011-04-26 16:46:02     INFO [sqlalchemy.engine.base.Engine.0x...7a10] DESCRIBE `images`
2011-04-26 16:46:02     INFO [sqlalchemy.engine.base.Engine.0x...7a10] ()
2011-04-26 16:46:02     INFO [sqlalchemy.engine.base.Engine.0x...7a10] ROLLBACK
2011-04-26 16:46:02     INFO [sqlalchemy.engine.base.Engine.0x...7a10] DESCRIBE `image_properties`
2011-04-26 16:46:02     INFO [sqlalchemy.engine.base.Engine.0x...7a10] ()
2011-04-26 16:46:02     INFO [sqlalchemy.engine.base.Engine.0x...7a10] ROLLBACK
2011-04-26 16:46:02     INFO [sqlalchemy.engine.base.Engine.0x...7a10] 
CREATE TABLE images (
	created_at DATETIME NOT NULL, 
	updated_at DATETIME, 
	deleted_at DATETIME, 
	deleted BOOL NOT NULL, 
	id INTEGER NOT NULL AUTO_INCREMENT, 
	name VARCHAR(255), 
	disk_format VARCHAR(20), 
	container_format VARCHAR(20), 
	size BIGINT, 
	status VARCHAR(30) NOT NULL, 
	is_public BOOL NOT NULL, 
	location TEXT, 
	checksum VARCHAR(32), 
	PRIMARY KEY (id), 
	CHECK (deleted IN (0, 1)), 
	CHECK (is_public IN (0, 1))
)ENGINE=InnoDB


2011-04-26 16:46:02     INFO [sqlalchemy.engine.base.Engine.0x...7a10] ()
2011-04-26 16:46:02     INFO [sqlalchemy.engine.base.Engine.0x...7a10] COMMIT
2011-04-26 16:46:02     INFO [sqlalchemy.engine.base.Engine.0x...7a10] 
CREATE TABLE image_properties (
	created_at DATETIME NOT NULL, 
	updated_at DATETIME, 
	deleted_at DATETIME, 
	deleted BOOL NOT NULL, 
	id INTEGER NOT NULL AUTO_INCREMENT, 
	image_id INTEGER NOT NULL, 
	`key` VARCHAR(255) NOT NULL, 
	value TEXT, 
	PRIMARY KEY (id), 
	CHECK (deleted IN (0, 1)), 
	FOREIGN KEY(image_id) REFERENCES images (id), 
	UNIQUE (image_id, `key`)
)


2011-04-26 16:46:02     INFO [sqlalchemy.engine.base.Engine.0x...7a10] ()
2011-04-26 16:46:02     INFO [sqlalchemy.engine.base.Engine.0x...7a10] COMMIT
2011-04-26 16:46:02     INFO [sqlalchemy.engine.base.Engine.0x...7a10] CREATE INDEX ix_image_properties_key ON image_properties (`key`)
2011-04-26 16:46:02     INFO [sqlalchemy.engine.base.Engine.0x...7a10] ()
2011-04-26 16:46:02     INFO [sqlalchemy.engine.base.Engine.0x...7a10] COMMIT
2011-04-26 16:46:05     INFO [sqlalchemy.engine.base.Engine.0x...7a10] BEGIN
2011-04-26 16:46:05     INFO [sqlalchemy.engine.base.Engine.0x...7a10] INSERT INTO images (created_at, updated_at, deleted_at, deleted, name, disk_format, container_format, size, status, is_public, location, checksum) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2011-04-26 16:46:05     INFO [sqlalchemy.engine.base.Engine.0x...7a10] (datetime.datetime(2011, 4, 26, 23, 46, 5, 556209), None, None, False, u'ubuntu-10.04-x86_64-openvz', None, None, 0, u'queued', True, None, None)
2011-04-26 16:46:05     INFO [sqlalchemy.engine.base.Engine.0x...7a10] SELECT image_properties.created_at AS image_properties_created_at, image_properties.updated_at AS image_properties_updated_at, image_properties.deleted_at AS image_properties_deleted_at, image_properties.deleted AS image_properties_deleted, image_properties.id AS image_properties_id, image_properties.image_id AS image_properties_image_id, image_properties.`key` AS image_properties_key, image_properties.value AS image_properties_value 
FROM image_properties 
WHERE %s = image_properties.image_id
2011-04-26 16:46:05     INFO [sqlalchemy.engine.base.Engine.0x...7a10] (1L,)
2011-04-26 16:46:05     INFO [sqlalchemy.engine.base.Engine.0x...7a10] INSERT INTO image_properties (created_at, updated_at, deleted_at, deleted, image_id, `key`, value) VALUES (%s, %s, %s, %s, %s, %s, %s)
2011-04-26 16:46:05     INFO [sqlalchemy.engine.base.Engine.0x...7a10] (datetime.datetime(2011, 4, 26, 23, 46, 5, 562931), None, None, False, 1L, u'type', u'raw')
2011-04-26 16:46:05     INFO [sqlalchemy.engine.base.Engine.0x...7a10] COMMIT
2011-04-26 16:46:05     INFO [sqlalchemy.engine.base.Engine.0x...7a10] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-26 16:46:05     INFO [sqlalchemy.engine.base.Engine.0x...7a10] (False, 1L)
2011-04-26 16:46:05     INFO [sqlalchemy.engine.base.Engine.0x...7a10] BEGIN
2011-04-26 16:46:05     INFO [sqlalchemy.engine.base.Engine.0x...7a10] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-26 16:46:05     INFO [sqlalchemy.engine.base.Engine.0x...7a10] (False, '1')
2011-04-26 16:46:05     INFO [sqlalchemy.engine.base.Engine.0x...7a10] UPDATE images SET updated_at=%s, status=%s WHERE images.id = %s
2011-04-26 16:46:05     INFO [sqlalchemy.engine.base.Engine.0x...7a10] (datetime.datetime(2011, 4, 26, 23, 46, 5, 613955), u'saving', 1L)
2011-04-26 16:46:05     INFO [sqlalchemy.engine.base.Engine.0x...7a10] COMMIT
2011-04-26 16:46:05     INFO [sqlalchemy.engine.base.Engine.0x...7a10] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-26 16:46:05     INFO [sqlalchemy.engine.base.Engine.0x...7a10] (False, 1L)
2011-04-26 16:46:10     INFO [sqlalchemy.engine.base.Engine.0x...7a10] BEGIN
2011-04-26 16:46:10     INFO [sqlalchemy.engine.base.Engine.0x...7a10] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-26 16:46:10     INFO [sqlalchemy.engine.base.Engine.0x...7a10] (False, '1')
2011-04-26 16:46:10     INFO [sqlalchemy.engine.base.Engine.0x...7a10] UPDATE images SET updated_at=%s, size=%s, checksum=%s WHERE images.id = %s
2011-04-26 16:46:10     INFO [sqlalchemy.engine.base.Engine.0x...7a10] (datetime.datetime(2011, 4, 26, 23, 46, 10, 950423), 136845017, u'b2bf8bd60bcdfe8b24a4db1af8c08c44', 1L)
2011-04-26 16:46:10     INFO [sqlalchemy.engine.base.Engine.0x...7a10] COMMIT
2011-04-26 16:46:10     INFO [sqlalchemy.engine.base.Engine.0x...7a10] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-26 16:46:10     INFO [sqlalchemy.engine.base.Engine.0x...7a10] (False, 1L)
2011-04-26 16:46:10     INFO [sqlalchemy.engine.base.Engine.0x...7a10] BEGIN
2011-04-26 16:46:10     INFO [sqlalchemy.engine.base.Engine.0x...7a10] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-26 16:46:10     INFO [sqlalchemy.engine.base.Engine.0x...7a10] (False, '1')
2011-04-26 16:46:10     INFO [sqlalchemy.engine.base.Engine.0x...7a10] UPDATE images SET updated_at=%s, status=%s, location=%s WHERE images.id = %s
2011-04-26 16:46:10     INFO [sqlalchemy.engine.base.Engine.0x...7a10] (datetime.datetime(2011, 4, 26, 23, 46, 10, 970984), u'active', u'file:///home/vagrant/glance_repo/1', 1L)
2011-04-26 16:46:10     INFO [sqlalchemy.engine.base.Engine.0x...7a10] COMMIT
2011-04-26 16:46:10     INFO [sqlalchemy.engine.base.Engine.0x...7a10] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-26 16:46:10     INFO [sqlalchemy.engine.base.Engine.0x...7a10] (False, 1L)
2011-04-26 16:46:37     INFO [sqlalchemy.engine.base.Engine.0x...79d0] SELECT DATABASE()
2011-04-26 16:46:37     INFO [sqlalchemy.engine.base.Engine.0x...79d0] ()
2011-04-26 16:46:37     INFO [sqlalchemy.engine.base.Engine.0x...79d0] SHOW VARIABLES LIKE 'character_set%%'
2011-04-26 16:46:37     INFO [sqlalchemy.engine.base.Engine.0x...79d0] ()
2011-04-26 16:46:37     INFO [sqlalchemy.engine.base.Engine.0x...79d0] SHOW VARIABLES LIKE 'lower_case_table_names'
2011-04-26 16:46:37     INFO [sqlalchemy.engine.base.Engine.0x...79d0] ()
2011-04-26 16:46:37     INFO [sqlalchemy.engine.base.Engine.0x...79d0] SHOW COLLATION
2011-04-26 16:46:37     INFO [sqlalchemy.engine.base.Engine.0x...79d0] ()
2011-04-26 16:46:37     INFO [sqlalchemy.engine.base.Engine.0x...79d0] SHOW VARIABLES LIKE 'sql_mode'
2011-04-26 16:46:37     INFO [sqlalchemy.engine.base.Engine.0x...79d0] ()
2011-04-26 16:46:37     INFO [sqlalchemy.engine.base.Engine.0x...79d0] DESCRIBE `images`
2011-04-26 16:46:37     INFO [sqlalchemy.engine.base.Engine.0x...79d0] ()
2011-04-26 16:46:37     INFO [sqlalchemy.engine.base.Engine.0x...79d0] DESCRIBE `image_properties`
2011-04-26 16:46:37     INFO [sqlalchemy.engine.base.Engine.0x...79d0] ()
2011-04-26 16:47:01     INFO [sqlalchemy.engine.base.Engine.0x...79d0] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.is_public = %s
2011-04-26 16:47:01     INFO [sqlalchemy.engine.base.Engine.0x...79d0] (False, True)
2011-04-26 16:47:03     INFO [sqlalchemy.engine.base.Engine.0x...79d0] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.is_public = %s
2011-04-26 16:47:03     INFO [sqlalchemy.engine.base.Engine.0x...79d0] (False, True)
2011-04-26 16:47:03     INFO [sqlalchemy.engine.base.Engine.0x...79d0] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-26 16:47:03     INFO [sqlalchemy.engine.base.Engine.0x...79d0] (False, '1')
2011-04-26 16:47:03     INFO [sqlalchemy.engine.base.Engine.0x...79d0] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-26 16:47:03     INFO [sqlalchemy.engine.base.Engine.0x...79d0] (False, '1')
2011-04-26 16:47:07     INFO [sqlalchemy.engine.base.Engine.0x...79d0] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-26 16:47:07     INFO [sqlalchemy.engine.base.Engine.0x...79d0] (False, '1')
2011-04-26 16:52:34     INFO [sqlalchemy.engine.base.Engine.0x...3a10] SELECT DATABASE()
2011-04-26 16:52:34     INFO [sqlalchemy.engine.base.Engine.0x...3a10] ()
2011-04-26 16:52:34     INFO [sqlalchemy.engine.base.Engine.0x...3a10] SHOW VARIABLES LIKE 'character_set%%'
2011-04-26 16:52:34     INFO [sqlalchemy.engine.base.Engine.0x...3a10] ()
2011-04-26 16:52:34     INFO [sqlalchemy.engine.base.Engine.0x...3a10] SHOW VARIABLES LIKE 'lower_case_table_names'
2011-04-26 16:52:34     INFO [sqlalchemy.engine.base.Engine.0x...3a10] ()
2011-04-26 16:52:34     INFO [sqlalchemy.engine.base.Engine.0x...3a10] SHOW COLLATION
2011-04-26 16:52:34     INFO [sqlalchemy.engine.base.Engine.0x...3a10] ()
2011-04-26 16:52:34     INFO [sqlalchemy.engine.base.Engine.0x...3a10] SHOW VARIABLES LIKE 'sql_mode'
2011-04-26 16:52:34     INFO [sqlalchemy.engine.base.Engine.0x...3a10] ()
2011-04-26 16:52:34     INFO [sqlalchemy.engine.base.Engine.0x...3a10] DESCRIBE `images`
2011-04-26 16:52:34     INFO [sqlalchemy.engine.base.Engine.0x...3a10] ()
2011-04-26 16:52:34     INFO [sqlalchemy.engine.base.Engine.0x...3a10] ROLLBACK
2011-04-26 16:52:34     INFO [sqlalchemy.engine.base.Engine.0x...3a10] DESCRIBE `image_properties`
2011-04-26 16:52:34     INFO [sqlalchemy.engine.base.Engine.0x...3a10] ()
2011-04-26 16:52:34     INFO [sqlalchemy.engine.base.Engine.0x...3a10] ROLLBACK
2011-04-26 16:52:34     INFO [sqlalchemy.engine.base.Engine.0x...3a10] 
CREATE TABLE images (
	created_at DATETIME NOT NULL, 
	updated_at DATETIME, 
	deleted_at DATETIME, 
	deleted BOOL NOT NULL, 
	id INTEGER NOT NULL AUTO_INCREMENT, 
	name VARCHAR(255), 
	disk_format VARCHAR(20), 
	container_format VARCHAR(20), 
	size BIGINT, 
	status VARCHAR(30) NOT NULL, 
	is_public BOOL NOT NULL, 
	location TEXT, 
	checksum VARCHAR(32), 
	PRIMARY KEY (id), 
	CHECK (deleted IN (0, 1)), 
	CHECK (is_public IN (0, 1))
)ENGINE=InnoDB


2011-04-26 16:52:34     INFO [sqlalchemy.engine.base.Engine.0x...3a10] ()
2011-04-26 16:52:34     INFO [sqlalchemy.engine.base.Engine.0x...3a10] COMMIT
2011-04-26 16:52:34     INFO [sqlalchemy.engine.base.Engine.0x...3a10] 
CREATE TABLE image_properties (
	created_at DATETIME NOT NULL, 
	updated_at DATETIME, 
	deleted_at DATETIME, 
	deleted BOOL NOT NULL, 
	id INTEGER NOT NULL AUTO_INCREMENT, 
	image_id INTEGER NOT NULL, 
	`key` VARCHAR(255) NOT NULL, 
	value TEXT, 
	PRIMARY KEY (id), 
	CHECK (deleted IN (0, 1)), 
	FOREIGN KEY(image_id) REFERENCES images (id), 
	UNIQUE (image_id, `key`)
)


2011-04-26 16:52:34     INFO [sqlalchemy.engine.base.Engine.0x...3a10] ()
2011-04-26 16:52:34     INFO [sqlalchemy.engine.base.Engine.0x...3a10] COMMIT
2011-04-26 16:52:34     INFO [sqlalchemy.engine.base.Engine.0x...3a10] CREATE INDEX ix_image_properties_key ON image_properties (`key`)
2011-04-26 16:52:34     INFO [sqlalchemy.engine.base.Engine.0x...3a10] ()
2011-04-26 16:52:34     INFO [sqlalchemy.engine.base.Engine.0x...3a10] COMMIT
2011-04-26 16:52:37     INFO [sqlalchemy.engine.base.Engine.0x...3a10] BEGIN
2011-04-26 16:52:37     INFO [sqlalchemy.engine.base.Engine.0x...3a10] INSERT INTO images (created_at, updated_at, deleted_at, deleted, name, disk_format, container_format, size, status, is_public, location, checksum) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2011-04-26 16:52:37     INFO [sqlalchemy.engine.base.Engine.0x...3a10] (datetime.datetime(2011, 4, 26, 23, 52, 37, 183806), None, None, False, u'ubuntu-10.04-x86_64-openvz', None, None, 0, u'queued', True, None, None)
2011-04-26 16:52:37     INFO [sqlalchemy.engine.base.Engine.0x...3a10] SELECT image_properties.created_at AS image_properties_created_at, image_properties.updated_at AS image_properties_updated_at, image_properties.deleted_at AS image_properties_deleted_at, image_properties.deleted AS image_properties_deleted, image_properties.id AS image_properties_id, image_properties.image_id AS image_properties_image_id, image_properties.`key` AS image_properties_key, image_properties.value AS image_properties_value 
FROM image_properties 
WHERE %s = image_properties.image_id
2011-04-26 16:52:37     INFO [sqlalchemy.engine.base.Engine.0x...3a10] (1L,)
2011-04-26 16:52:37     INFO [sqlalchemy.engine.base.Engine.0x...3a10] INSERT INTO image_properties (created_at, updated_at, deleted_at, deleted, image_id, `key`, value) VALUES (%s, %s, %s, %s, %s, %s, %s)
2011-04-26 16:52:37     INFO [sqlalchemy.engine.base.Engine.0x...3a10] (datetime.datetime(2011, 4, 26, 23, 52, 37, 190087), None, None, False, 1L, u'type', u'raw')
2011-04-26 16:52:37     INFO [sqlalchemy.engine.base.Engine.0x...3a10] COMMIT
2011-04-26 16:52:37     INFO [sqlalchemy.engine.base.Engine.0x...3a10] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-26 16:52:37     INFO [sqlalchemy.engine.base.Engine.0x...3a10] (False, 1L)
2011-04-26 16:52:37     INFO [sqlalchemy.engine.base.Engine.0x...3a10] BEGIN
2011-04-26 16:52:37     INFO [sqlalchemy.engine.base.Engine.0x...3a10] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-26 16:52:37     INFO [sqlalchemy.engine.base.Engine.0x...3a10] (False, '1')
2011-04-26 16:52:37     INFO [sqlalchemy.engine.base.Engine.0x...3a10] UPDATE images SET updated_at=%s, status=%s WHERE images.id = %s
2011-04-26 16:52:37     INFO [sqlalchemy.engine.base.Engine.0x...3a10] (datetime.datetime(2011, 4, 26, 23, 52, 37, 260850), u'saving', 1L)
2011-04-26 16:52:37     INFO [sqlalchemy.engine.base.Engine.0x...3a10] COMMIT
2011-04-26 16:52:37     INFO [sqlalchemy.engine.base.Engine.0x...3a10] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-26 16:52:37     INFO [sqlalchemy.engine.base.Engine.0x...3a10] (False, 1L)
2011-04-26 16:52:40     INFO [sqlalchemy.engine.base.Engine.0x...3a10] BEGIN
2011-04-26 16:52:40     INFO [sqlalchemy.engine.base.Engine.0x...3a10] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-26 16:52:40     INFO [sqlalchemy.engine.base.Engine.0x...3a10] (False, '1')
2011-04-26 16:52:40     INFO [sqlalchemy.engine.base.Engine.0x...3a10] UPDATE images SET updated_at=%s, size=%s, checksum=%s WHERE images.id = %s
2011-04-26 16:52:40     INFO [sqlalchemy.engine.base.Engine.0x...3a10] (datetime.datetime(2011, 4, 26, 23, 52, 40, 169188), 136845017, u'b2bf8bd60bcdfe8b24a4db1af8c08c44', 1L)
2011-04-26 16:52:40     INFO [sqlalchemy.engine.base.Engine.0x...3a10] COMMIT
2011-04-26 16:52:40     INFO [sqlalchemy.engine.base.Engine.0x...3a10] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-26 16:52:40     INFO [sqlalchemy.engine.base.Engine.0x...3a10] (False, 1L)
2011-04-26 16:52:40     INFO [sqlalchemy.engine.base.Engine.0x...3a10] BEGIN
2011-04-26 16:52:40     INFO [sqlalchemy.engine.base.Engine.0x...3a10] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-26 16:52:40     INFO [sqlalchemy.engine.base.Engine.0x...3a10] (False, '1')
2011-04-26 16:52:40     INFO [sqlalchemy.engine.base.Engine.0x...3a10] UPDATE images SET updated_at=%s, status=%s, location=%s WHERE images.id = %s
2011-04-26 16:52:40     INFO [sqlalchemy.engine.base.Engine.0x...3a10] (datetime.datetime(2011, 4, 26, 23, 52, 40, 917825), u'active', u'file:///home/vagrant/glance_repo/1', 1L)
2011-04-26 16:52:40     INFO [sqlalchemy.engine.base.Engine.0x...3a10] COMMIT
2011-04-26 16:52:40     INFO [sqlalchemy.engine.base.Engine.0x...3a10] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-26 16:52:40     INFO [sqlalchemy.engine.base.Engine.0x...3a10] (False, 1L)
2011-04-26 16:53:05     INFO [sqlalchemy.engine.base.Engine.0x...b9d0] SELECT DATABASE()
2011-04-26 16:53:05     INFO [sqlalchemy.engine.base.Engine.0x...b9d0] ()
2011-04-26 16:53:05     INFO [sqlalchemy.engine.base.Engine.0x...b9d0] SHOW VARIABLES LIKE 'character_set%%'
2011-04-26 16:53:05     INFO [sqlalchemy.engine.base.Engine.0x...b9d0] ()
2011-04-26 16:53:05     INFO [sqlalchemy.engine.base.Engine.0x...b9d0] SHOW VARIABLES LIKE 'lower_case_table_names'
2011-04-26 16:53:05     INFO [sqlalchemy.engine.base.Engine.0x...b9d0] ()
2011-04-26 16:53:05     INFO [sqlalchemy.engine.base.Engine.0x...b9d0] SHOW COLLATION
2011-04-26 16:53:05     INFO [sqlalchemy.engine.base.Engine.0x...b9d0] ()
2011-04-26 16:53:05     INFO [sqlalchemy.engine.base.Engine.0x...b9d0] SHOW VARIABLES LIKE 'sql_mode'
2011-04-26 16:53:05     INFO [sqlalchemy.engine.base.Engine.0x...b9d0] ()
2011-04-26 16:53:05     INFO [sqlalchemy.engine.base.Engine.0x...b9d0] DESCRIBE `images`
2011-04-26 16:53:05     INFO [sqlalchemy.engine.base.Engine.0x...b9d0] ()
2011-04-26 16:53:05     INFO [sqlalchemy.engine.base.Engine.0x...b9d0] DESCRIBE `image_properties`
2011-04-26 16:53:05     INFO [sqlalchemy.engine.base.Engine.0x...b9d0] ()
2011-04-26 16:53:28     INFO [sqlalchemy.engine.base.Engine.0x...b9d0] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.is_public = %s
2011-04-26 16:53:28     INFO [sqlalchemy.engine.base.Engine.0x...b9d0] (False, True)
2011-04-26 16:53:30     INFO [sqlalchemy.engine.base.Engine.0x...b9d0] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.is_public = %s
2011-04-26 16:53:30     INFO [sqlalchemy.engine.base.Engine.0x...b9d0] (False, True)
2011-04-26 16:53:30     INFO [sqlalchemy.engine.base.Engine.0x...b9d0] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-26 16:53:30     INFO [sqlalchemy.engine.base.Engine.0x...b9d0] (False, '1')
2011-04-26 16:53:30     INFO [sqlalchemy.engine.base.Engine.0x...b9d0] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-26 16:53:30     INFO [sqlalchemy.engine.base.Engine.0x...b9d0] (False, '1')
2011-04-26 16:53:33     INFO [sqlalchemy.engine.base.Engine.0x...b9d0] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-26 16:53:33     INFO [sqlalchemy.engine.base.Engine.0x...b9d0] (False, '1')
2011-04-27 12:15:56     INFO [sqlalchemy.engine.base.Engine.0x...6a10] SELECT DATABASE()
2011-04-27 12:15:56     INFO [sqlalchemy.engine.base.Engine.0x...6a10] ()
2011-04-27 12:15:56     INFO [sqlalchemy.engine.base.Engine.0x...6a10] SHOW VARIABLES LIKE 'character_set%%'
2011-04-27 12:15:56     INFO [sqlalchemy.engine.base.Engine.0x...6a10] ()
2011-04-27 12:15:56     INFO [sqlalchemy.engine.base.Engine.0x...6a10] SHOW VARIABLES LIKE 'lower_case_table_names'
2011-04-27 12:15:56     INFO [sqlalchemy.engine.base.Engine.0x...6a10] ()
2011-04-27 12:15:56     INFO [sqlalchemy.engine.base.Engine.0x...6a10] SHOW COLLATION
2011-04-27 12:15:56     INFO [sqlalchemy.engine.base.Engine.0x...6a10] ()
2011-04-27 12:15:56     INFO [sqlalchemy.engine.base.Engine.0x...6a10] SHOW VARIABLES LIKE 'sql_mode'
2011-04-27 12:15:56     INFO [sqlalchemy.engine.base.Engine.0x...6a10] ()
2011-04-27 12:15:56     INFO [sqlalchemy.engine.base.Engine.0x...6a10] DESCRIBE `images`
2011-04-27 12:15:56     INFO [sqlalchemy.engine.base.Engine.0x...6a10] ()
2011-04-27 12:15:56     INFO [sqlalchemy.engine.base.Engine.0x...6a10] ROLLBACK
2011-04-27 12:15:56     INFO [sqlalchemy.engine.base.Engine.0x...6a10] DESCRIBE `image_properties`
2011-04-27 12:15:56     INFO [sqlalchemy.engine.base.Engine.0x...6a10] ()
2011-04-27 12:15:56     INFO [sqlalchemy.engine.base.Engine.0x...6a10] ROLLBACK
2011-04-27 12:15:56     INFO [sqlalchemy.engine.base.Engine.0x...6a10] 
CREATE TABLE images (
	created_at DATETIME NOT NULL, 
	updated_at DATETIME, 
	deleted_at DATETIME, 
	deleted BOOL NOT NULL, 
	id INTEGER NOT NULL AUTO_INCREMENT, 
	name VARCHAR(255), 
	disk_format VARCHAR(20), 
	container_format VARCHAR(20), 
	size BIGINT, 
	status VARCHAR(30) NOT NULL, 
	is_public BOOL NOT NULL, 
	location TEXT, 
	checksum VARCHAR(32), 
	PRIMARY KEY (id), 
	CHECK (deleted IN (0, 1)), 
	CHECK (is_public IN (0, 1))
)ENGINE=InnoDB


2011-04-27 12:15:56     INFO [sqlalchemy.engine.base.Engine.0x...6a10] ()
2011-04-27 12:15:56     INFO [sqlalchemy.engine.base.Engine.0x...6a10] COMMIT
2011-04-27 12:15:56     INFO [sqlalchemy.engine.base.Engine.0x...6a10] 
CREATE TABLE image_properties (
	created_at DATETIME NOT NULL, 
	updated_at DATETIME, 
	deleted_at DATETIME, 
	deleted BOOL NOT NULL, 
	id INTEGER NOT NULL AUTO_INCREMENT, 
	image_id INTEGER NOT NULL, 
	`key` VARCHAR(255) NOT NULL, 
	value TEXT, 
	PRIMARY KEY (id), 
	CHECK (deleted IN (0, 1)), 
	FOREIGN KEY(image_id) REFERENCES images (id), 
	UNIQUE (image_id, `key`)
)


2011-04-27 12:15:56     INFO [sqlalchemy.engine.base.Engine.0x...6a10] ()
2011-04-27 12:15:56     INFO [sqlalchemy.engine.base.Engine.0x...6a10] COMMIT
2011-04-27 12:15:56     INFO [sqlalchemy.engine.base.Engine.0x...6a10] CREATE INDEX ix_image_properties_key ON image_properties (`key`)
2011-04-27 12:15:56     INFO [sqlalchemy.engine.base.Engine.0x...6a10] ()
2011-04-27 12:15:56     INFO [sqlalchemy.engine.base.Engine.0x...6a10] COMMIT
2011-04-27 12:15:59     INFO [sqlalchemy.engine.base.Engine.0x...6a10] BEGIN
2011-04-27 12:15:59     INFO [sqlalchemy.engine.base.Engine.0x...6a10] INSERT INTO images (created_at, updated_at, deleted_at, deleted, name, disk_format, container_format, size, status, is_public, location, checksum) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2011-04-27 12:15:59     INFO [sqlalchemy.engine.base.Engine.0x...6a10] (datetime.datetime(2011, 4, 27, 19, 15, 59, 558814), None, None, False, u'ubuntu-10.04-x86_64-openvz', None, None, 0, u'queued', True, None, None)
2011-04-27 12:15:59     INFO [sqlalchemy.engine.base.Engine.0x...6a10] SELECT image_properties.created_at AS image_properties_created_at, image_properties.updated_at AS image_properties_updated_at, image_properties.deleted_at AS image_properties_deleted_at, image_properties.deleted AS image_properties_deleted, image_properties.id AS image_properties_id, image_properties.image_id AS image_properties_image_id, image_properties.`key` AS image_properties_key, image_properties.value AS image_properties_value 
FROM image_properties 
WHERE %s = image_properties.image_id
2011-04-27 12:15:59     INFO [sqlalchemy.engine.base.Engine.0x...6a10] (1L,)
2011-04-27 12:15:59     INFO [sqlalchemy.engine.base.Engine.0x...6a10] INSERT INTO image_properties (created_at, updated_at, deleted_at, deleted, image_id, `key`, value) VALUES (%s, %s, %s, %s, %s, %s, %s)
2011-04-27 12:15:59     INFO [sqlalchemy.engine.base.Engine.0x...6a10] (datetime.datetime(2011, 4, 27, 19, 15, 59, 564601), None, None, False, 1L, u'type', u'raw')
2011-04-27 12:15:59     INFO [sqlalchemy.engine.base.Engine.0x...6a10] COMMIT
2011-04-27 12:15:59     INFO [sqlalchemy.engine.base.Engine.0x...6a10] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-27 12:15:59     INFO [sqlalchemy.engine.base.Engine.0x...6a10] (False, 1L)
2011-04-27 12:15:59     INFO [sqlalchemy.engine.base.Engine.0x...6a10] BEGIN
2011-04-27 12:15:59     INFO [sqlalchemy.engine.base.Engine.0x...6a10] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-27 12:15:59     INFO [sqlalchemy.engine.base.Engine.0x...6a10] (False, '1')
2011-04-27 12:15:59     INFO [sqlalchemy.engine.base.Engine.0x...6a10] UPDATE images SET updated_at=%s, status=%s WHERE images.id = %s
2011-04-27 12:15:59     INFO [sqlalchemy.engine.base.Engine.0x...6a10] (datetime.datetime(2011, 4, 27, 19, 15, 59, 631520), u'saving', 1L)
2011-04-27 12:15:59     INFO [sqlalchemy.engine.base.Engine.0x...6a10] COMMIT
2011-04-27 12:15:59     INFO [sqlalchemy.engine.base.Engine.0x...6a10] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-27 12:15:59     INFO [sqlalchemy.engine.base.Engine.0x...6a10] (False, 1L)
2011-04-27 12:16:02     INFO [sqlalchemy.engine.base.Engine.0x...6a10] BEGIN
2011-04-27 12:16:02     INFO [sqlalchemy.engine.base.Engine.0x...6a10] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-27 12:16:02     INFO [sqlalchemy.engine.base.Engine.0x...6a10] (False, '1')
2011-04-27 12:16:02     INFO [sqlalchemy.engine.base.Engine.0x...6a10] UPDATE images SET updated_at=%s, size=%s, checksum=%s WHERE images.id = %s
2011-04-27 12:16:02     INFO [sqlalchemy.engine.base.Engine.0x...6a10] (datetime.datetime(2011, 4, 27, 19, 16, 2, 960788), 136845017, u'b2bf8bd60bcdfe8b24a4db1af8c08c44', 1L)
2011-04-27 12:16:02     INFO [sqlalchemy.engine.base.Engine.0x...6a10] COMMIT
2011-04-27 12:16:05     INFO [sqlalchemy.engine.base.Engine.0x...6a10] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-27 12:16:05     INFO [sqlalchemy.engine.base.Engine.0x...6a10] (False, 1L)
2011-04-27 12:16:05     INFO [sqlalchemy.engine.base.Engine.0x...6a10] BEGIN
2011-04-27 12:16:05     INFO [sqlalchemy.engine.base.Engine.0x...6a10] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-27 12:16:05     INFO [sqlalchemy.engine.base.Engine.0x...6a10] (False, '1')
2011-04-27 12:16:05     INFO [sqlalchemy.engine.base.Engine.0x...6a10] UPDATE images SET updated_at=%s, status=%s, location=%s WHERE images.id = %s
2011-04-27 12:16:05     INFO [sqlalchemy.engine.base.Engine.0x...6a10] (datetime.datetime(2011, 4, 27, 19, 16, 5, 370300), u'active', u'file:///home/vagrant/glance_repo/1', 1L)
2011-04-27 12:16:05     INFO [sqlalchemy.engine.base.Engine.0x...6a10] COMMIT
2011-04-27 12:16:05     INFO [sqlalchemy.engine.base.Engine.0x...6a10] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-27 12:16:05     INFO [sqlalchemy.engine.base.Engine.0x...6a10] (False, 1L)
2011-04-27 12:16:28     INFO [sqlalchemy.engine.base.Engine.0x...69d0] SELECT DATABASE()
2011-04-27 12:16:28     INFO [sqlalchemy.engine.base.Engine.0x...69d0] ()
2011-04-27 12:16:28     INFO [sqlalchemy.engine.base.Engine.0x...69d0] SHOW VARIABLES LIKE 'character_set%%'
2011-04-27 12:16:28     INFO [sqlalchemy.engine.base.Engine.0x...69d0] ()
2011-04-27 12:16:28     INFO [sqlalchemy.engine.base.Engine.0x...69d0] SHOW VARIABLES LIKE 'lower_case_table_names'
2011-04-27 12:16:28     INFO [sqlalchemy.engine.base.Engine.0x...69d0] ()
2011-04-27 12:16:28     INFO [sqlalchemy.engine.base.Engine.0x...69d0] SHOW COLLATION
2011-04-27 12:16:28     INFO [sqlalchemy.engine.base.Engine.0x...69d0] ()
2011-04-27 12:16:28     INFO [sqlalchemy.engine.base.Engine.0x...69d0] SHOW VARIABLES LIKE 'sql_mode'
2011-04-27 12:16:28     INFO [sqlalchemy.engine.base.Engine.0x...69d0] ()
2011-04-27 12:16:28     INFO [sqlalchemy.engine.base.Engine.0x...69d0] DESCRIBE `images`
2011-04-27 12:16:28     INFO [sqlalchemy.engine.base.Engine.0x...69d0] ()
2011-04-27 12:16:28     INFO [sqlalchemy.engine.base.Engine.0x...69d0] DESCRIBE `image_properties`
2011-04-27 12:16:28     INFO [sqlalchemy.engine.base.Engine.0x...69d0] ()
2011-04-27 12:16:51     INFO [sqlalchemy.engine.base.Engine.0x...69d0] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.is_public = %s
2011-04-27 12:16:51     INFO [sqlalchemy.engine.base.Engine.0x...69d0] (False, True)
2011-04-27 12:16:53     INFO [sqlalchemy.engine.base.Engine.0x...69d0] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.is_public = %s
2011-04-27 12:16:53     INFO [sqlalchemy.engine.base.Engine.0x...69d0] (False, True)
2011-04-27 12:16:53     INFO [sqlalchemy.engine.base.Engine.0x...69d0] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-27 12:16:53     INFO [sqlalchemy.engine.base.Engine.0x...69d0] (False, '1')
2011-04-27 12:16:53     INFO [sqlalchemy.engine.base.Engine.0x...69d0] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-27 12:16:53     INFO [sqlalchemy.engine.base.Engine.0x...69d0] (False, '1')
2011-04-27 12:16:55     INFO [sqlalchemy.engine.base.Engine.0x...69d0] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-27 12:16:55     INFO [sqlalchemy.engine.base.Engine.0x...69d0] (False, '1')
2011-04-27 14:47:44     INFO [sqlalchemy.engine.base.Engine.0x...0a10] SELECT DATABASE()
2011-04-27 14:47:44     INFO [sqlalchemy.engine.base.Engine.0x...0a10] ()
2011-04-27 14:47:44     INFO [sqlalchemy.engine.base.Engine.0x...0a10] SHOW VARIABLES LIKE 'character_set%%'
2011-04-27 14:47:44     INFO [sqlalchemy.engine.base.Engine.0x...0a10] ()
2011-04-27 14:47:44     INFO [sqlalchemy.engine.base.Engine.0x...0a10] SHOW VARIABLES LIKE 'lower_case_table_names'
2011-04-27 14:47:44     INFO [sqlalchemy.engine.base.Engine.0x...0a10] ()
2011-04-27 14:47:44     INFO [sqlalchemy.engine.base.Engine.0x...0a10] SHOW COLLATION
2011-04-27 14:47:44     INFO [sqlalchemy.engine.base.Engine.0x...0a10] ()
2011-04-27 14:47:44     INFO [sqlalchemy.engine.base.Engine.0x...0a10] SHOW VARIABLES LIKE 'sql_mode'
2011-04-27 14:47:44     INFO [sqlalchemy.engine.base.Engine.0x...0a10] ()
2011-04-27 14:47:44     INFO [sqlalchemy.engine.base.Engine.0x...0a10] DESCRIBE `images`
2011-04-27 14:47:44     INFO [sqlalchemy.engine.base.Engine.0x...0a10] ()
2011-04-27 14:47:44     INFO [sqlalchemy.engine.base.Engine.0x...0a10] ROLLBACK
2011-04-27 14:47:44     INFO [sqlalchemy.engine.base.Engine.0x...0a10] DESCRIBE `image_properties`
2011-04-27 14:47:44     INFO [sqlalchemy.engine.base.Engine.0x...0a10] ()
2011-04-27 14:47:44     INFO [sqlalchemy.engine.base.Engine.0x...0a10] ROLLBACK
2011-04-27 14:47:44     INFO [sqlalchemy.engine.base.Engine.0x...0a10] 
CREATE TABLE images (
	created_at DATETIME NOT NULL, 
	updated_at DATETIME, 
	deleted_at DATETIME, 
	deleted BOOL NOT NULL, 
	id INTEGER NOT NULL AUTO_INCREMENT, 
	name VARCHAR(255), 
	disk_format VARCHAR(20), 
	container_format VARCHAR(20), 
	size BIGINT, 
	status VARCHAR(30) NOT NULL, 
	is_public BOOL NOT NULL, 
	location TEXT, 
	checksum VARCHAR(32), 
	PRIMARY KEY (id), 
	CHECK (deleted IN (0, 1)), 
	CHECK (is_public IN (0, 1))
)ENGINE=InnoDB


2011-04-27 14:47:44     INFO [sqlalchemy.engine.base.Engine.0x...0a10] ()
2011-04-27 14:47:44     INFO [sqlalchemy.engine.base.Engine.0x...0a10] COMMIT
2011-04-27 14:47:44     INFO [sqlalchemy.engine.base.Engine.0x...0a10] 
CREATE TABLE image_properties (
	created_at DATETIME NOT NULL, 
	updated_at DATETIME, 
	deleted_at DATETIME, 
	deleted BOOL NOT NULL, 
	id INTEGER NOT NULL AUTO_INCREMENT, 
	image_id INTEGER NOT NULL, 
	`key` VARCHAR(255) NOT NULL, 
	value TEXT, 
	PRIMARY KEY (id), 
	CHECK (deleted IN (0, 1)), 
	FOREIGN KEY(image_id) REFERENCES images (id), 
	UNIQUE (image_id, `key`)
)


2011-04-27 14:47:44     INFO [sqlalchemy.engine.base.Engine.0x...0a10] ()
2011-04-27 14:47:44     INFO [sqlalchemy.engine.base.Engine.0x...0a10] COMMIT
2011-04-27 14:47:44     INFO [sqlalchemy.engine.base.Engine.0x...0a10] CREATE INDEX ix_image_properties_key ON image_properties (`key`)
2011-04-27 14:47:44     INFO [sqlalchemy.engine.base.Engine.0x...0a10] ()
2011-04-27 14:47:44     INFO [sqlalchemy.engine.base.Engine.0x...0a10] COMMIT
2011-04-27 14:47:47     INFO [sqlalchemy.engine.base.Engine.0x...0a10] BEGIN
2011-04-27 14:47:47     INFO [sqlalchemy.engine.base.Engine.0x...0a10] INSERT INTO images (created_at, updated_at, deleted_at, deleted, name, disk_format, container_format, size, status, is_public, location, checksum) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2011-04-27 14:47:47     INFO [sqlalchemy.engine.base.Engine.0x...0a10] (datetime.datetime(2011, 4, 27, 21, 47, 47, 604521), None, None, False, u'ubuntu-10.04-x86_64-openvz', None, None, 0, u'queued', True, None, None)
2011-04-27 14:47:47     INFO [sqlalchemy.engine.base.Engine.0x...0a10] SELECT image_properties.created_at AS image_properties_created_at, image_properties.updated_at AS image_properties_updated_at, image_properties.deleted_at AS image_properties_deleted_at, image_properties.deleted AS image_properties_deleted, image_properties.id AS image_properties_id, image_properties.image_id AS image_properties_image_id, image_properties.`key` AS image_properties_key, image_properties.value AS image_properties_value 
FROM image_properties 
WHERE %s = image_properties.image_id
2011-04-27 14:47:47     INFO [sqlalchemy.engine.base.Engine.0x...0a10] (1L,)
2011-04-27 14:47:47     INFO [sqlalchemy.engine.base.Engine.0x...0a10] INSERT INTO image_properties (created_at, updated_at, deleted_at, deleted, image_id, `key`, value) VALUES (%s, %s, %s, %s, %s, %s, %s)
2011-04-27 14:47:47     INFO [sqlalchemy.engine.base.Engine.0x...0a10] (datetime.datetime(2011, 4, 27, 21, 47, 47, 611437), None, None, False, 1L, u'type', u'raw')
2011-04-27 14:47:47     INFO [sqlalchemy.engine.base.Engine.0x...0a10] COMMIT
2011-04-27 14:47:47     INFO [sqlalchemy.engine.base.Engine.0x...0a10] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-27 14:47:47     INFO [sqlalchemy.engine.base.Engine.0x...0a10] (False, 1L)
2011-04-27 14:47:47     INFO [sqlalchemy.engine.base.Engine.0x...0a10] BEGIN
2011-04-27 14:47:47     INFO [sqlalchemy.engine.base.Engine.0x...0a10] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-27 14:47:47     INFO [sqlalchemy.engine.base.Engine.0x...0a10] (False, '1')
2011-04-27 14:47:47     INFO [sqlalchemy.engine.base.Engine.0x...0a10] UPDATE images SET updated_at=%s, status=%s WHERE images.id = %s
2011-04-27 14:47:47     INFO [sqlalchemy.engine.base.Engine.0x...0a10] (datetime.datetime(2011, 4, 27, 21, 47, 47, 677427), u'saving', 1L)
2011-04-27 14:47:47     INFO [sqlalchemy.engine.base.Engine.0x...0a10] COMMIT
2011-04-27 14:47:47     INFO [sqlalchemy.engine.base.Engine.0x...0a10] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-27 14:47:47     INFO [sqlalchemy.engine.base.Engine.0x...0a10] (False, 1L)
2011-04-27 14:47:50     INFO [sqlalchemy.engine.base.Engine.0x...0a10] BEGIN
2011-04-27 14:47:50     INFO [sqlalchemy.engine.base.Engine.0x...0a10] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-27 14:47:50     INFO [sqlalchemy.engine.base.Engine.0x...0a10] (False, '1')
2011-04-27 14:47:50     INFO [sqlalchemy.engine.base.Engine.0x...0a10] UPDATE images SET updated_at=%s, size=%s, checksum=%s WHERE images.id = %s
2011-04-27 14:47:50     INFO [sqlalchemy.engine.base.Engine.0x...0a10] (datetime.datetime(2011, 4, 27, 21, 47, 50, 814804), 136845017, u'b2bf8bd60bcdfe8b24a4db1af8c08c44', 1L)
2011-04-27 14:47:50     INFO [sqlalchemy.engine.base.Engine.0x...0a10] COMMIT
2011-04-27 14:47:51     INFO [sqlalchemy.engine.base.Engine.0x...0a10] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-27 14:47:51     INFO [sqlalchemy.engine.base.Engine.0x...0a10] (False, 1L)
2011-04-27 14:47:51     INFO [sqlalchemy.engine.base.Engine.0x...0a10] BEGIN
2011-04-27 14:47:51     INFO [sqlalchemy.engine.base.Engine.0x...0a10] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-27 14:47:51     INFO [sqlalchemy.engine.base.Engine.0x...0a10] (False, '1')
2011-04-27 14:47:51     INFO [sqlalchemy.engine.base.Engine.0x...0a10] UPDATE images SET updated_at=%s, status=%s, location=%s WHERE images.id = %s
2011-04-27 14:47:51     INFO [sqlalchemy.engine.base.Engine.0x...0a10] (datetime.datetime(2011, 4, 27, 21, 47, 51, 118337), u'active', u'file:///home/vagrant/glance_repo/1', 1L)
2011-04-27 14:47:51     INFO [sqlalchemy.engine.base.Engine.0x...0a10] COMMIT
2011-04-27 14:47:51     INFO [sqlalchemy.engine.base.Engine.0x...0a10] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-27 14:47:51     INFO [sqlalchemy.engine.base.Engine.0x...0a10] (False, 1L)
2011-04-27 14:48:15     INFO [sqlalchemy.engine.base.Engine.0x...a9d0] SELECT DATABASE()
2011-04-27 14:48:15     INFO [sqlalchemy.engine.base.Engine.0x...a9d0] ()
2011-04-27 14:48:15     INFO [sqlalchemy.engine.base.Engine.0x...a9d0] SHOW VARIABLES LIKE 'character_set%%'
2011-04-27 14:48:15     INFO [sqlalchemy.engine.base.Engine.0x...a9d0] ()
2011-04-27 14:48:15     INFO [sqlalchemy.engine.base.Engine.0x...a9d0] SHOW VARIABLES LIKE 'lower_case_table_names'
2011-04-27 14:48:15     INFO [sqlalchemy.engine.base.Engine.0x...a9d0] ()
2011-04-27 14:48:15     INFO [sqlalchemy.engine.base.Engine.0x...a9d0] SHOW COLLATION
2011-04-27 14:48:15     INFO [sqlalchemy.engine.base.Engine.0x...a9d0] ()
2011-04-27 14:48:15     INFO [sqlalchemy.engine.base.Engine.0x...a9d0] SHOW VARIABLES LIKE 'sql_mode'
2011-04-27 14:48:15     INFO [sqlalchemy.engine.base.Engine.0x...a9d0] ()
2011-04-27 14:48:15     INFO [sqlalchemy.engine.base.Engine.0x...a9d0] DESCRIBE `images`
2011-04-27 14:48:15     INFO [sqlalchemy.engine.base.Engine.0x...a9d0] ()
2011-04-27 14:48:15     INFO [sqlalchemy.engine.base.Engine.0x...a9d0] DESCRIBE `image_properties`
2011-04-27 14:48:15     INFO [sqlalchemy.engine.base.Engine.0x...a9d0] ()
2011-04-27 14:48:39     INFO [sqlalchemy.engine.base.Engine.0x...a9d0] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.is_public = %s
2011-04-27 14:48:39     INFO [sqlalchemy.engine.base.Engine.0x...a9d0] (False, True)
2011-04-27 14:48:46     INFO [sqlalchemy.engine.base.Engine.0x...a9d0] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.is_public = %s
2011-04-27 14:48:46     INFO [sqlalchemy.engine.base.Engine.0x...a9d0] (False, True)
2011-04-27 14:48:46     INFO [sqlalchemy.engine.base.Engine.0x...a9d0] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-27 14:48:46     INFO [sqlalchemy.engine.base.Engine.0x...a9d0] (False, '1')
2011-04-27 14:48:46     INFO [sqlalchemy.engine.base.Engine.0x...a9d0] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-27 14:48:46     INFO [sqlalchemy.engine.base.Engine.0x...a9d0] (False, '1')
2011-04-27 14:48:48     INFO [sqlalchemy.engine.base.Engine.0x...a9d0] SELECT images.created_at AS images_created_at, images.updated_at AS images_updated_at, images.deleted_at AS images_deleted_at, images.deleted AS images_deleted, images.id AS images_id, images.name AS images_name, images.disk_format AS images_disk_format, images.container_format AS images_container_format, images.size AS images_size, images.status AS images_status, images.is_public AS images_is_public, images.location AS images_location, images.checksum AS images_checksum, image_properties_1.created_at AS image_properties_1_created_at, image_properties_1.updated_at AS image_properties_1_updated_at, image_properties_1.deleted_at AS image_properties_1_deleted_at, image_properties_1.deleted AS image_properties_1_deleted, image_properties_1.id AS image_properties_1_id, image_properties_1.image_id AS image_properties_1_image_id, image_properties_1.`key` AS image_properties_1_key, image_properties_1.value AS image_properties_1_value 
FROM images LEFT OUTER JOIN image_properties AS image_properties_1 ON images.id = image_properties_1.image_id 
WHERE images.deleted = %s AND images.id = %s
2011-04-27 14:48:48     INFO [sqlalchemy.engine.base.Engine.0x...a9d0] (False, '1')
